/*! Minimal Flowbite drawer support for Django Flowbite Admin */
(function(){
  function toggleDrawer(target, isOpen){
    if(!target)return;
    var hiddenClass='-translate-x-full';
    if(typeof isOpen!=='boolean'){
      isOpen=target.classList.contains(hiddenClass);
    }
    if(isOpen){
      target.classList.remove(hiddenClass);
    }else{
      target.classList.add(hiddenClass);
    }
  }
  function closeDrawer(target){
    if(!target)return;
    target.classList.add('-translate-x-full');
  }
  function init(){
    var triggers=document.querySelectorAll('[data-drawer-toggle]');
    triggers.forEach(function(trigger){
      var targetId=trigger.getAttribute('data-drawer-toggle')||trigger.getAttribute('data-drawer-target');
      if(!targetId)return;
      var target=document.getElementById(targetId);
      if(!target)return;
      trigger.addEventListener('click',function(event){
        event.preventDefault();
        var isHidden=target.classList.contains('-translate-x-full');
        toggleDrawer(target,isHidden);
        trigger.setAttribute('aria-expanded',String(isHidden));
      });
    });
    document.addEventListener('keydown',function(event){
      if(event.key==='Escape'){
        document.querySelectorAll('[data-drawer-toggle]').forEach(function(trigger){
          var targetId=trigger.getAttribute('data-drawer-toggle')||trigger.getAttribute('data-drawer-target');
          if(!targetId)return;
          var target=document.getElementById(targetId);
          closeDrawer(target);
          trigger.setAttribute('aria-expanded','false');
        });
      }
    });
  }
  if(document.readyState==='loading'){
    document.addEventListener('DOMContentLoaded',init);
  }else{
    init();
  }
})();
